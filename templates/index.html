<!DOCTYPE html>
<html lang="en" data-theme="{{ 'dark' if session.get('dark_mode') else 'light' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ data.NAME }} | Portfolio</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Montserrat:wght@700;400&display=swap">
    <link rel="preload" as="style" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Montserrat:wght@700;400&family=Poppins:wght@400;600;700&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    <meta name="description" content="Rushabh Singh's portfolio - Turning complex ideas into reliable software.">
    <meta name="keywords" content="Rushabh Singh, Portfolio, Software Developer, Projects, Blog, Python, Flask">
    <meta property="og:title" content="Rushabh Singh | Portfolio">
    <meta property="og:description" content="Turning complex ideas into reliable software.">
    <meta property="og:image" content="{{ url_for('static', filename=data.PROFILE_PIC) }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://portfolio-rushabh.onrender.com/">
    <link rel="canonical" href="https://portfolio-rushabh.onrender.com/">
</head>
<body>
<div class="progress-bar"></div>
<a href="#main-content" class="skip-link" aria-label="Skip to main content">Skip to main content</a>
<!-- Modern Skeleton Loader -->
<div id="skeleton-loader" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2000;background:linear-gradient(135deg,#e3f0ff 0%,#ffe3f6 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 0.4s;">
  <div style="display:flex;flex-direction:column;align-items:center;gap:2rem;width:100vw;max-width:600px;">
    <div class="skeleton-navbar" style="width:90vw;height:56px;background:#e3e3ee;border-radius:0 0 18px 18px;box-shadow:0 2px 12px rgba(31,38,135,0.06);"></div>
    <div class="skeleton-hero shimmer" style="width:90vw;max-width:900px;height:120px;background:#f6eaff;border-radius:1.5rem;margin-bottom:16px;"></div>
    <div class="skeleton-section shimmer" style="width:90vw;max-width:900px;height:80px;background:#e3e3ee;border-radius:1.5rem;margin-bottom:12px;"></div>
    <div class="skeleton-section shimmer" style="width:90vw;max-width:900px;height:80px;background:#e3e3ee;border-radius:1.5rem;margin-bottom:12px;"></div>
    <div class="skeleton-section shimmer" style="width:90vw;max-width:900px;height:80px;background:#e3e3ee;border-radius:1.5rem;margin-bottom:12px;"></div>
    <div class="spinner-border text-primary" role="status" style="width:3rem;height:3rem;"><span class="visually-hidden">Loading...</span></div>
  </div>
</div>
<style>
@keyframes shimmer {
  0% { background-position: -500px 0; }
  100% { background-position: 500px 0; }
}
.shimmer {
  background: linear-gradient(90deg, #e3e3ee 25%, #f6eaff 50%, #e3e3ee 75%);
  background-size: 1000px 100%;
  animation: shimmer 1.5s infinite linear;
}
[data-theme='dark'] #skeleton-loader {
  background: linear-gradient(135deg,#18181c 0%,#23243a 100%);
}
[data-theme='dark'] .skeleton-navbar,
[data-theme='dark'] .skeleton-section {
  background: #23243a !important;
}
[data-theme='dark'] .skeleton-hero {
  background: #23243a !important;
}
</style>
<div class="bg-blob bg-blob1"></div>
<div class="bg-blob bg-blob2"></div>
<div class="bg-blob bg-blob3"></div>
<header>
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" role="navigation" aria-label="Main navigation">
  <div class="container-fluid">
      <a class="navbar-brand fw-bold" href="#home"><h1 style="margin:0; font-size:1.5em;">Rushabh Singh</h1></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
        <li class="nav-item"><a class="nav-link" href="#achievements">Achievements</a></li>
        <li class="nav-item"><a class="nav-link" href="#github">GitHub</a></li>
        <li class="nav-item"><a class="nav-link" href="#blog">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>
</header>
<main role="main" id="main-content">
<!-- Animated Floating Theme Toggle Switch -->
<div class="theme-toggle-switch" id="themeToggleSwitch" title="Toggle Light/Dark Mode" aria-label="Toggle light or dark theme" tabindex="0" role="button">
  <div class="toggle-track">
    <div class="toggle-bg day"></div>
    <div class="toggle-bg night"></div>
    <div class="clouds"></div>
    <div class="stars">
      <span class="star1"></span>
      <span class="star2"></span>
      <span class="star3"></span>
      <span class="star4"></span>
    </div>
    <div class="toggle-thumb">
      <div class="icon sun" aria-label="Light mode">‚òÄÔ∏è</div>
      <div class="icon moon" aria-label="Dark mode">üåô</div>
    </div>
  </div>
</div>

<div style="margin-top: 90px;"></div>

<section id="home" class="hero-card main-card text-center d-flex flex-column align-items-center justify-content-center fade-in reveal" style="background: linear-gradient(120deg, #232526 0%, #414345 100%); color: #fff; box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);">
  <div class="row w-100 align-items-center flex-column-reverse flex-md-row" style="min-height: 340px;">
    <div class="col-12 col-md-6 d-flex flex-column align-items-center align-items-md-start justify-content-center text-center text-md-start py-3">
      <h1 class="display-3 fw-bold mb-2" style="letter-spacing:2px; color: #fff; font-family: 'Space Grotesk', 'Montserrat', 'Poppins', Arial, sans-serif;">
        Hi, I'm <span style="color:#ff5e62;">{{ data.NAME }}</span>
      </h1>
      <h3 class="fw-semibold mb-3" style="color: #36d1c4; font-family: 'Space Grotesk', 'Montserrat', 'Poppins', Arial, sans-serif;">{{ data.ROLE }}</h3>
      <p class="lead mb-4" style="color: #e0eafc;">{{ data.TAGLINE }}</p>
      <a href="#contact" class="btn btn-lg mt-2 px-4 py-2" style="background: linear-gradient(90deg, #ff5e62 0%, #36d1c4 100%); color: #fff; border: none;">Contact Me</a>
    </div>
    <div class="col-12 col-md-6 d-flex flex-column align-items-center justify-content-center py-3">
      <img src="{{ url_for('static', filename=data.PROFILE_PIC) }}" class="rounded-circle img-fluid shadow-lg" alt="Profile picture of {{ data.NAME }}" loading="lazy">
      <div class="mt-3 place-of-study" style="color: #e0eafc; font-size: 1.1rem;">
        <span style="color:#ff5e62; font-weight:600;">Currently studying in:</span> {{ data.PLACE_OF_STUDY }}
      </div>
    </div>
  </div>
</section>

<section id="projects" class="main-card fade-in reveal">
    <h2 class="mb-4 fw-bold">Projects</h2>
    <div class="project-slider-container position-relative">
        <button class="project-scroll-btn left" aria-label="Scroll left" type="button">&#8592;</button>
        <div class="project-slider d-flex flex-row flex-nowrap overflow-auto" tabindex="0">
            {% for project in data.PROJECTS %}
            <div class="card h-100 project-card mx-2 flex-shrink-0 fade-in" style="min-width: 270px; max-width: 320px;">
                <div class="card-body">
                    <h5 class="card-title fw-bold">{{ project.title }}</h5>
                    <p class="card-text">{{ project.description }}</p>
                    <p><span class="badge bg-primary bg-gradient me-1" style="font-size:0.9em;">{{ project.tech|join(', ') }}</span></p>
                </div>
                <div class="card-footer d-flex justify-content-between bg-transparent border-0">
                    <a href="{{ project.github }}" class="btn btn-outline-dark btn-sm" target="_blank">GitHub</a>
                    <a href="{{ project.demo }}" class="btn btn-outline-primary btn-sm" target="_blank">Demo</a>
                </div>
            </div>
            {% endfor %}
        </div>
        <button class="project-scroll-btn right" aria-label="Scroll right" type="button">&#8594;</button>
    </div>
</section>

<section id="achievements" class="main-card fade-in reveal">
    <h2 class="mb-4 fw-bold">Achievements</h2>
    <div class="achievement-list w-100 d-flex flex-column gap-3">
            {% for ach in data.ACHIEVEMENTS %}
        <div class="card achievement-card w-100 fade-in" style="max-width: 100%; margin: 0 auto;">
                <div class="card-body d-flex flex-column align-items-center justify-content-center">
                    <h5 class="card-title fw-bold">{{ ach.title }}</h5>
                <p class="card-text text-center fs-6">{{ ach.details }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<section id="blog" class="main-card fade-in reveal">
    <h2 class="mb-4 fw-bold">Blog</h2>
    <div>
        {% for post in pages %}
        {% if post.meta.published %}
        <div class="mb-3 d-flex align-items-center blog-list-item">
            {% if post.meta.featured_image %}
            <img src="{{ url_for('static', filename=post.meta.featured_image) }}" alt="Featured image for {{ post.meta.title }}" class="blog-featured-img me-3" style="width: 80px; height: 80px; object-fit: cover; border-radius: 12px;" loading="lazy">
            {% endif %}
            <div>
            <a href="{{ url_for('blog_post', path=post.path) }}"><strong>{{ post.meta.title }}</strong></a>
                <span class="text-muted ms-2">{{ post.meta.date }}</span>
                <div class="blog-summary text-muted" style="font-size: 0.98em;">
                  {% if post.meta.summary %}
                    {{ post.meta.summary }}
                  {% else %}
                    {{ post.meta.title[:120] ~ ('...' if post.meta.title|length > 120 else '') }}
                  {% endif %}
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
    <a href="{{ url_for('blog') }}" class="btn btn-outline-secondary mt-2">View All Posts</a>
</section>

<!-- GitHub Contributions & Activity Section (Calendar Only) -->
<section id="github-stats" style="text-align:center; padding: 20px;">
  <h2>üìä My GitHub Stats</h2>

  <!-- GitHub Stats Card -->
  <img id="gh-stats" src="https://github-readme-stats.vercel.app/api?username=Rush1618&show_icons=true&theme=radical" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="GitHub Stats" loading="lazy" />

  <!-- GitHub Streak -->
  <img id="gh-streak" src="https://github-readme-streak-stats.herokuapp.com/?user=Rush1618&theme=tokyonight" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="GitHub Streak" loading="lazy" />

  <!-- GitHub Activity Graph -->
  <img id="gh-activity" src="https://github-readme-activity-graph.vercel.app/graph?username=Rush1618&theme=github-compact" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="GitHub Contribution Graph" loading="lazy" />

  <!-- GitHub Top Languages -->
  <img id="gh-langs" src="https://github-readme-stats.vercel.app/api/top-langs/?username=Rush1618&layout=compact&theme=radical" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="Top Languages" loading="lazy" />

  <!-- GitHub Contributions Calendar -->
  <img id="gh-calendar" src="https://ghchart.rshah.org/36d1c4/Rush1618"
       style="max-width: 100%; height: auto; margin: 10px 0;"
       alt="GitHub Contributions Calendar" loading="lazy" />
</section>

<section id="contact" class="main-card fade-in reveal">
    <h2 class="mb-4 fw-bold">Contact</h2>
    <ul class="list-unstyled fs-5">
        <li><strong>Email:</strong> <a href="mailto:{{ data.CONTACT.email }}" class="social-link" aria-label="Email">
          <svg class="social-icon" viewBox="0 0 24 24"><path d="M12 13.065l-8.485-6.065h16.97l-8.485 6.065zm8.485-8.065h-16.97c-1.104 0-2 .896-2 2v12c0 1.104.896 2 2 2h16.97c1.104 0 2-.896 2-2v-12c0-1.104-.896-2-2-2zm0 14h-16.97v-10.065l8.485 6.065 8.485-6.065v10.065z"/></svg>
          {{ data.CONTACT.email }}
        </a></li>
        <li><strong>Phone:</strong> <a href="tel:{{ data.CONTACT.phone }}">{{ data.CONTACT.phone }}</a></li>
        <li><strong>LinkedIn:</strong> <a href="{{ data.CONTACT.linkedin }}" class="social-link" target="_blank" aria-label="LinkedIn">
          <svg class="social-icon" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm15.5 11.268h-3v-5.604c0-1.337-.025-3.063-1.868-3.063-1.868 0-2.154 1.459-2.154 2.967v5.7h-3v-10h2.881v1.367h.041c.401-.761 1.381-1.563 2.841-1.563 3.039 0 3.6 2.001 3.6 4.601v5.595z"/></svg>
          {{ data.CONTACT.linkedin }}
        </a></li>
        <li><strong>Instagram:</strong> <a href="{{ data.CONTACT.instagram }}" class="social-link" target="_blank" aria-label="Instagram">
          <svg class="social-icon" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.242 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.242 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.242-1.308-3.608-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.242-1.246 3.608-1.308 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.012-4.947.07-1.276.058-2.687.334-3.678 1.325-.991.991-1.267 2.402-1.325 3.678-.058 1.28-.07 1.688-.07 4.947s.012 3.667.07 4.947c.058 1.276.334 2.687 1.325 3.678.991.991 2.402 1.267 3.678 1.325 1.28.058 1.688.07 4.947.07s3.667-.012 4.947-.07c1.276-.058 2.687-.334 3.678-1.325.991-.991 1.267-2.402 1.325-3.678.058-1.28.07-1.688.07-4.947s-.012-3.667-.07-4.947c-.058-1.276-.334-2.687-1.325-3.678-.991-.991-2.402-1.267-3.678-1.325-1.28-.058-1.688-.07-4.947-.07zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/></svg>
          {{ data.CONTACT.instagram }}
        </a></li>
    </ul>
    <form action="https://formsubmit.co/portfoliorushabh@gmail.com" method="POST" class="mt-4" id="contactForm">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="https://portfolio-rushabh.onrender.com/#contact">
      <div class="mb-3">
        <label for="contactName" class="form-label">Your Name</label>
        <input type="text" id="contactName" name="name" class="form-control" placeholder="Your Name" required pattern="^[A-Za-z\s]{2,50}$" title="Name should only contain letters and spaces (2-50 characters)">
      </div>
      <div class="mb-3">
        <label for="contactEmail" class="form-label">Your Email</label>
        <input type="email" id="contactEmail" name="email" class="form-control" placeholder="Your Email" required>
      </div>
      <div class="mb-3">
        <label for="contactMessage" class="form-label">Your Message</label>
        <textarea id="contactMessage" name="message" class="form-control" rows="4" placeholder="Your Message" required minlength="10"></textarea>
      </div>
      <button type="submit" class="btn btn-outline-primary">Send Message</button>
    </form>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="mt-3" aria-live="polite">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
</section>

<!-- Testimonials Section -->
<section id="testimonials" class="main-card fade-in reveal">
  <h2 class="mb-4 fw-bold">Testimonials</h2>
  {% if data.TESTIMONIALS|length == 0 or (data.TESTIMONIALS|length == 1 and not data.TESTIMONIALS[0].author and not data.TESTIMONIALS[0].role) %}
    <div class="alert alert-info text-center">{{ data.TESTIMONIALS[0].text if data.TESTIMONIALS else 'No testimonials yet.' }}</div>
  {% else %}
  <div class="testimonial-slider-container position-relative">
    <button class="testimonial-scroll-btn left" aria-label="Scroll left" type="button">&#8592;</button>
    <div class="testimonial-slider d-flex flex-row flex-nowrap overflow-auto" tabindex="0">
      {% for t in data.TESTIMONIALS %}
        {% if t.author or t.role %}
        <div class="card h-100 testimonial-card mx-2 flex-shrink-0 fade-in" style="min-width: 270px; max-width: 320px;">
        <div class="card-body">
          <blockquote class="blockquote mb-0">
              <p>{{ t.text }}</p>
              <footer class="blockquote-footer mt-2">{{ t.author }}{% if t.role %}, <cite title="Role">{{ t.role }}</cite>{% endif %}</footer>
          </blockquote>
        </div>
        </div>
        {% endif %}
      {% endfor %}
    </div>
    <button class="testimonial-scroll-btn right" aria-label="Scroll right" type="button">&#8594;</button>
  </div>
  {% endif %}
</section>

<aside class="quote-card" aria-label="Site Slogan">I don't just write code , I design solutions that scale, adapt, and empower</aside>

<footer class="text-center py-4 mt-5" role="contentinfo">
    <div class="container">
        <div class="mb-2">
            <a href="{{ data.CONTACT.linkedin }}" class="me-2 social-link" target="_blank" aria-label="LinkedIn">
              <svg class="social-icon" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm15.5 11.268h-3v-5.604c0-1.337-.025-3.063-1.868-3.063-1.868 0-2.154 1.459-2.154 2.967v5.7h-3v-10h2.881v1.367h.041c.401-.761 1.381-1.563 2.841-1.563 3.039 0 3.6 2.001 3.6 4.601v5.595z"/></svg>
            </a>
            <a href="{{ data.CONTACT.instagram }}" class="me-2 social-link" target="_blank" aria-label="Instagram">
              <svg class="social-icon" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.334 3.608 1.308.974.974 1.246 2.242 1.308 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.334 2.633-1.308 3.608-.974.974-2.242 1.246-3.608 1.308-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.334-3.608-1.308-.974-.974-1.246-2.242-1.308-3.608-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.334-2.633 1.308-3.608.974-.974 2.242-1.246 3.608-1.308 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.012-4.947.07-1.276.058-2.687.334-3.678 1.325-.991.991-1.267 2.402-1.325 3.678-.058 1.28-.07 1.688-.07 4.947s.012 3.667.07 4.947c.058 1.276.334 2.687 1.325 3.678.991.991 2.402 1.267 3.678 1.325 1.28.058 1.688.07 4.947.07s3.667-.012 4.947-.07c1.276-.058 2.687-.334 3.678-1.325.991-.991 1.267-2.402 1.325-3.678.058-1.28.07-1.688.07-4.947s-.012-3.667-.07-4.947c-.058-1.276-.334-2.687-1.325-3.678-.991-.991-2.402-1.267-3.678-1.325-1.28-.058-1.688-.07-4.947-.07zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/></svg>
            </a>
            <a href="mailto:{{ data.CONTACT.email }}" class="me-2 social-link" aria-label="Email">
              <svg class="social-icon" viewBox="0 0 24 24"><path d="M12 13.065l-8.485-6.065h16.97l-8.485 6.065zm8.485-8.065h-16.97c-1.104 0-2 .896-2 2v12c0 1.104.896 2 2 2h16.97c1.104 0 2-.896 2-2v-12c0-1.104-.896-2-2-2zm0 14h-16.97v-10.065l8.485 6.065 8.485-6.065v10.065z"/></svg>
            </a>
        </div>
        <div>
            &copy; {{ data.NAME }} {{ current_year }}
        </div>
    </div>
</footer>
<button id="scrollToTopBtn" aria-label="Scroll to top" title="Scroll to top">
  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>
</button>

<!-- Project Details Modal -->
<div class="modal fade" id="projectDetailsModal" tabindex="-1" aria-labelledby="projectDetailsModalLabel" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="projectDetailsModalLabel"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
      </div>
      <div class="modal-body">
        <p id="projectDetailsDescription"></p>
        <p><strong>Tech Stack:</strong> <span id="projectDetailsTech"></span></p>
        <div class="d-flex gap-2 mt-3">
          <a id="projectDetailsGithub" href="#" class="btn btn-outline-dark btn-sm" target="_blank">GitHub</a>
          <a id="projectDetailsDemo" href="#" class="btn btn-outline-primary btn-sm" target="_blank">Demo</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
    // Smooth scrolling
    document.querySelectorAll('a.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            if(this.hash) {
                e.preventDefault();
                document.querySelector(this.hash).scrollIntoView({ behavior: 'smooth' });
            }
        });
    });
    // Theme toggle logic
    function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    }
    function getTheme() {
        return localStorage.getItem('theme') || 'dark';
    }
    function updateToggleSwitch(theme) {
        const thumb = document.querySelector('.theme-toggle-switch .toggle-thumb');
        if (theme === 'light') {
            thumb.classList.add('light');
            thumb.classList.remove('dark');
        } else {
            thumb.classList.add('dark');
            thumb.classList.remove('light');
        }
    }
    function triggerFadeAnimation() {
      const ghSection = document.getElementById('github-stats');
      if (ghSection) {
        // Fade out
        ghSection.classList.remove('visible');
        ghSection.classList.add('fade-out');
        // After fade-out, fade in
        setTimeout(() => {
          ghSection.classList.remove('fade-out');
          ghSection.offsetWidth; // force reflow
          ghSection.classList.add('visible');
          // Also animate all images inside
          ghSection.querySelectorAll('img').forEach(img => {
            img.classList.remove('visible');
            img.classList.add('fade-in');
            img.classList.add('fade-out');
            setTimeout(() => {
              img.classList.remove('fade-out');
              img.offsetWidth;
              img.classList.add('visible');
            }, 500);
          });
        }, 500); // match fade-out duration
        }
    }
    document.addEventListener('DOMContentLoaded', function() {
        const theme = getTheme();
        setTheme(theme);
        updateToggleSwitch(theme);
        setTimeout(triggerFadeAnimation, 100); // Initial fade-in on page load
        document.getElementById('themeToggleSwitch').onclick = function() {
            const current = getTheme();
            const next = current === 'dark' ? 'light' : 'dark';
            setTheme(next);
            updateToggleSwitch(next);
            setTimeout(triggerFadeAnimation, 100);
        };
    });
    // Fade-in animation on scroll
    function fadeInOnScroll() {
        const fadeEls = document.querySelectorAll('.fade-in');
        const trigger = window.innerHeight * 0.92;
        fadeEls.forEach(el => {
            const rect = el.getBoundingClientRect();
            if (rect.top < trigger) {
                el.classList.add('visible');
            }
        });
    }
    window.addEventListener('scroll', fadeInOnScroll);
    window.addEventListener('DOMContentLoaded', fadeInOnScroll);
    // Hide skeleton loader when page is fully loaded
    window.addEventListener('load', function() {
        document.getElementById('skeleton-loader').style.display = 'none';
    });
    // Testimonial slider scroll logic (circular)
    const testimonialSlider = document.querySelector('.testimonial-slider');
    const testimonialLeftBtn = document.querySelector('.testimonial-scroll-btn.left');
    const testimonialRightBtn = document.querySelector('.testimonial-scroll-btn.right');
    if (testimonialSlider && testimonialLeftBtn && testimonialRightBtn) {
      testimonialLeftBtn.onclick = () => {
        if (testimonialSlider.scrollLeft === 0) {
          testimonialSlider.scrollLeft = testimonialSlider.scrollWidth;
        } else {
          testimonialSlider.scrollBy({left: -320, behavior: 'smooth'});
        }
      };
      testimonialRightBtn.onclick = () => {
        if (testimonialSlider.scrollLeft + testimonialSlider.offsetWidth >= testimonialSlider.scrollWidth - 10) {
          testimonialSlider.scrollLeft = 0;
        } else {
          testimonialSlider.scrollBy({left: 320, behavior: 'smooth'});
        }
      };
    }
    function updateGitHubStatsTheme(theme) {
      const themes = {
        light: {
          stats: "default",
          streak: "default",
          activity: "github-compact",
          langs: "default",
          calendar: "007ec6"
        },
        dark: {
          stats: "radical",
          streak: "tokyonight",
          activity: "tokyo-night",
          langs: "radical",
          calendar: "36d1c4"
        }
      };
      const t = themes[theme] || themes.dark;
      const cacheBust = Date.now();
      document.getElementById("gh-stats").src =
        `https://github-readme-stats.vercel.app/api?username=Rush1618&show_icons=true&theme=${t.stats}&t=${cacheBust}`;
      document.getElementById("gh-streak").src =
        `https://github-readme-streak-stats.herokuapp.com/?user=Rush1618&theme=${t.streak}&t=${cacheBust}`;
      document.getElementById("gh-activity").src =
        `https://github-readme-activity-graph.vercel.app/graph?username=Rush1618&theme=${t.activity}&t=${cacheBust}`;
      document.getElementById("gh-langs").src =
        `https://github-readme-stats.vercel.app/api/top-langs/?username=Rush1618&layout=compact&theme=${t.langs}&t=${cacheBust}`;
      document.getElementById("gh-calendar").src =
        `https://ghchart.rshah.org/${t.calendar}/Rush1618?${cacheBust}`;
    }
    document.addEventListener("DOMContentLoaded", function() {
      updateGitHubStatsTheme(getTheme());
      document.getElementById('themeToggleSwitch').addEventListener('click', function() {
        setTimeout(() => updateGitHubStatsTheme(getTheme()), 100);
      });
    });
    // Modal accessibility: trap focus and close on Escape
    (function() {
      var modal = document.getElementById('projectDetailsModal');
      if (!modal) return;
      var focusableSelectors = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])';
      var lastFocusedElement;
      modal.addEventListener('show.bs.modal', function () {
        lastFocusedElement = document.activeElement;
        setTimeout(function() {
          var focusables = modal.querySelectorAll(focusableSelectors);
          if (focusables.length) focusables[0].focus();
        }, 200);
        document.addEventListener('keydown', trapTab);
        document.addEventListener('keydown', closeOnEscape);
      });
      modal.addEventListener('hidden.bs.modal', function () {
        document.removeEventListener('keydown', trapTab);
        document.removeEventListener('keydown', closeOnEscape);
        if (lastFocusedElement) lastFocusedElement.focus();
      });
      function trapTab(e) {
        if (e.key !== 'Tab') return;
        var focusables = modal.querySelectorAll(focusableSelectors);
        if (!focusables.length) return;
        var first = focusables[0];
        var last = focusables[focusables.length - 1];
        if (e.shiftKey) {
          if (document.activeElement === first) {
            e.preventDefault();
            last.focus();
          }
        } else {
          if (document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }
      }
      function closeOnEscape(e) {
        if (e.key === 'Escape') {
          var closeBtn = modal.querySelector('.btn-close');
          if (closeBtn) closeBtn.click();
        }
      }
    })();
    // Scroll-to-top button logic
    (function() {
      var btn = document.getElementById('scrollToTopBtn');
      window.addEventListener('scroll', function() {
        if (window.scrollY > 300) {
          btn.classList.add('visible');
        } else {
          btn.classList.remove('visible');
        }
      });
      btn.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    })();
    // Parallax hero background
    (function() {
      var parallax = document.querySelector('.parallax-bg');
      if (!parallax) return;
      window.addEventListener('mousemove', function(e) {
        var x = (e.clientX / window.innerWidth - 0.5) * 30;
        var y = (e.clientY / window.innerHeight - 0.5) * 30;
        parallax.style.transform = 'translate3d(' + x + 'px,' + y + 'px,0)';
      });
    })();
    // Section reveal on scroll
    (function() {
      var reveals = document.querySelectorAll('.reveal');
      function revealOnScroll() {
        var trigger = window.innerHeight * 0.92;
        reveals.forEach(function(el) {
          var rect = el.getBoundingClientRect();
          if (rect.top < trigger) {
            el.classList.add('reveal-visible');
          }
        });
      }
      window.addEventListener('scroll', revealOnScroll);
      window.addEventListener('DOMContentLoaded', revealOnScroll);
    })();
    // Scroll progress bar
    (function() {
      var bar = document.querySelector('.progress-bar');
      window.addEventListener('scroll', function() {
        var scroll = window.scrollY;
        var height = document.body.scrollHeight - window.innerHeight;
        var percent = (scroll / height) * 100;
        bar.style.width = percent + '%';
      });
    })();
    // Ripple effect for buttons
    (function() {
      document.querySelectorAll('.btn').forEach(function(btn) {
        btn.addEventListener('click', function(e) {
          var ripple = document.createElement('span');
          ripple.className = 'ripple';
          ripple.style.left = (e.offsetX - 10) + 'px';
          ripple.style.top = (e.offsetY - 10) + 'px';
          ripple.style.width = ripple.style.height = Math.max(btn.offsetWidth, btn.offsetHeight) + 'px';
          btn.appendChild(ripple);
          setTimeout(function() { ripple.remove(); }, 600);
      });
    });
    })();
</script>

<!-- Google Analytics (replace G-XXXXXXXXXX with your own ID) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XXXXXXXXXX');
</script>
</main>
</body>
</html> 