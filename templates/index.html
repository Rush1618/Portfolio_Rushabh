<!DOCTYPE html>
<html lang="en" data-theme="{{ 'dark' if session.get('dark_mode') else 'light' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ data.NAME }} | Portfolio</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Montserrat:wght@700;400&display=swap">
    <link rel="preload" as="style" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Montserrat:wght@700;400&family=Poppins:wght@400;600;700&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    <meta name="description" content="Rushabh Singh's portfolio - Turning complex ideas into reliable software.">
    <meta name="keywords" content="Rushabh Singh, Portfolio, Software Developer, Projects, Blog, Python, Flask">
    <meta property="og:title" content="Rushabh Singh | Portfolio">
    <meta property="og:description" content="Turning complex ideas into reliable software.">
    <meta property="og:image" content="{{ url_for('static', filename=data.PROFILE_PIC) }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://portfolio-rushabh.onrender.com/">
    <link rel="canonical" href="https://portfolio-rushabh.onrender.com/">
</head>
<body>
<!-- Modern Skeleton Loader -->
<div id="skeleton-loader" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2000;background:linear-gradient(135deg,#e3f0ff 0%,#ffe3f6 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 0.4s;">
  <div style="display:flex;flex-direction:column;align-items:center;gap:2rem;width:100vw;max-width:600px;">
    <div class="skeleton-navbar" style="width:90vw;height:56px;background:#e3e3ee;border-radius:0 0 18px 18px;box-shadow:0 2px 12px rgba(31,38,135,0.06);"></div>
    <div class="skeleton-hero shimmer" style="width:90vw;max-width:900px;height:120px;background:#f6eaff;border-radius:1.5rem;margin-bottom:16px;"></div>
    <div class="skeleton-section shimmer" style="width:90vw;max-width:900px;height:80px;background:#e3e3ee;border-radius:1.5rem;margin-bottom:12px;"></div>
    <div class="skeleton-section shimmer" style="width:90vw;max-width:900px;height:80px;background:#e3e3ee;border-radius:1.5rem;margin-bottom:12px;"></div>
    <div class="skeleton-section shimmer" style="width:90vw;max-width:900px;height:80px;background:#e3e3ee;border-radius:1.5rem;margin-bottom:12px;"></div>
    <div class="spinner-border text-primary" role="status" style="width:3rem;height:3rem;"><span class="visually-hidden">Loading...</span></div>
  </div>
</div>
<style>
@keyframes shimmer {
  0% { background-position: -500px 0; }
  100% { background-position: 500px 0; }
}
.shimmer {
  background: linear-gradient(90deg, #e3e3ee 25%, #f6eaff 50%, #e3e3ee 75%);
  background-size: 1000px 100%;
  animation: shimmer 1.5s infinite linear;
}
[data-theme='dark'] #skeleton-loader {
  background: linear-gradient(135deg,#18181c 0%,#23243a 100%);
}
[data-theme='dark'] .skeleton-navbar,
[data-theme='dark'] .skeleton-section {
  background: #23243a !important;
}
[data-theme='dark'] .skeleton-hero {
  background: #23243a !important;
}
</style>
<div class="bg-blob bg-blob1"></div>
<div class="bg-blob bg-blob2"></div>
<div class="bg-blob bg-blob3"></div>
<nav class="navbar navbar-expand-lg navbar-light fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#home">{{ data.NAME }}</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
        <li class="nav-item"><a class="nav-link" href="#achievements">Achievements</a></li>
        <li class="nav-item"><a class="nav-link" href="#github">GitHub</a></li>
        <li class="nav-item"><a class="nav-link" href="#blog">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Animated Floating Theme Toggle Switch -->
<div class="theme-toggle-switch" id="themeToggleSwitch" title="Toggle Light/Dark Mode" aria-label="Toggle light or dark theme" tabindex="0" role="button">
  <div class="toggle-track">
    <div class="toggle-bg day"></div>
    <div class="toggle-bg night"></div>
    <div class="clouds"></div>
    <div class="stars">
      <span class="star1"></span>
      <span class="star2"></span>
      <span class="star3"></span>
      <span class="star4"></span>
    </div>
    <div class="toggle-thumb">
      <div class="icon sun" aria-label="Light mode">‚òÄÔ∏è</div>
      <div class="icon moon" aria-label="Dark mode">üåô</div>
    </div>
  </div>
</div>

<div style="margin-top: 90px;"></div>

<section id="home" class="hero-card main-card text-center d-flex flex-column align-items-center justify-content-center fade-in" style="background: linear-gradient(120deg, #232526 0%, #414345 100%); color: #fff; box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);">
  <div class="row w-100 align-items-center flex-column-reverse flex-md-row" style="min-height: 340px;">
    <div class="col-12 col-md-6 d-flex flex-column align-items-center align-items-md-start justify-content-center text-center text-md-start py-3">
      <h1 class="display-3 fw-bold mb-2" style="letter-spacing:2px; color: #fff;">
        Hi, I'm <span style="color:#ff5e62;">{{ data.NAME }}</span>
      </h1>
      <h3 class="fw-semibold mb-3" style="color: #36d1c4;">{{ data.ROLE }}</h3>
      <p class="lead mb-4" style="color: #e0eafc;">{{ data.TAGLINE }}</p>
      <a href="#contact" class="btn btn-lg mt-2 px-4 py-2" style="background: linear-gradient(90deg, #ff5e62 0%, #36d1c4 100%); color: #fff; border: none;">Contact Me</a>
    </div>
    <div class="col-12 col-md-6 d-flex flex-column align-items-center justify-content-center py-3">
      <div style="background: rgba(255,255,255,0.08); border-radius: 50%; box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18); padding: 10px;">
        <img src="{{ url_for('static', filename=data.PROFILE_PIC) }}" class="rounded-circle img-fluid shadow-lg" alt="Profile picture of {{ data.NAME }}">
      </div>
      <div class="mt-3 place-of-study" style="color: #e0eafc; font-size: 1.1rem;">
        <span style="color:#ff5e62; font-weight:600;">Currently studying in:</span> {{ data.PLACE_OF_STUDY }}
      </div>
    </div>
  </div>
</section>

<section id="projects" class="main-card fade-in" style="overflow: visible;">
    <h2 class="mb-4 fw-bold">Projects</h2>
    <div class="project-slider-container position-relative">
        <button class="project-scroll-btn left" aria-label="Scroll left">&#8592;</button>
        <div class="project-slider d-flex flex-row flex-nowrap overflow-auto" tabindex="0">
            {% for project in data.PROJECTS %}
            <div class="card h-100 project-card mx-2 flex-shrink-0 fade-in" style="min-width: 270px; max-width: 320px;">
                <div class="card-body">
                    <h5 class="card-title fw-bold">{{ project.title }}</h5>
                    <p class="card-text">{{ project.description }}</p>
                    <p><span class="badge bg-primary bg-gradient me-1" style="font-size:0.9em;">{{ project.tech|join(', ') }}</span></p>
                </div>
                <div class="card-footer d-flex justify-content-between bg-transparent border-0">
                    <a href="{{ project.github }}" class="btn btn-outline-dark btn-sm" target="_blank">GitHub</a>
                    <a href="{{ project.demo }}" class="btn btn-outline-primary btn-sm" target="_blank">Demo</a>
                </div>
            </div>
            {% endfor %}
        </div>
        <button class="project-scroll-btn right" aria-label="Scroll right">&#8594;</button>
    </div>
</section>

<section id="achievements" class="main-card fade-in">
    <h2 class="mb-4 fw-bold">Achievements</h2>
    <div class="achievement-list w-100 d-flex flex-column gap-3">
            {% for ach in data.ACHIEVEMENTS %}
        <div class="card achievement-card w-100 fade-in" style="max-width: 100%; margin: 0 auto;">
                <div class="card-body d-flex flex-column align-items-center justify-content-center">
                    <h5 class="card-title fw-bold">{{ ach.title }}</h5>
                <p class="card-text text-center fs-6">{{ ach.details }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<section id="blog" class="main-card fade-in">
    <h2 class="mb-4 fw-bold">Blog</h2>
    <div>
        {% for post in pages %}
        {% if post.meta.published %}
        <div class="mb-3 d-flex align-items-center blog-list-item">
            {% if post.meta.featured_image %}
            <img src="{{ url_for('static', filename=post.meta.featured_image) }}" alt="Featured image for {{ post.meta.title }}" class="blog-featured-img me-3" style="width: 80px; height: 80px; object-fit: cover; border-radius: 12px;">
            {% endif %}
            <div>
            <a href="{{ url_for('blog_post', path=post.path) }}"><strong>{{ post.meta.title }}</strong></a>
                <span class="text-muted ms-2">{{ post.meta.date }}</span>
                <div class="blog-summary text-muted" style="font-size: 0.98em;">
                  {% if post.meta.summary %}
                    {{ post.meta.summary }}
                  {% else %}
                    {{ post.meta.title[:120] ~ ('...' if post.meta.title|length > 120 else '') }}
                  {% endif %}
                </div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
    <a href="{{ url_for('blog') }}" class="btn btn-outline-secondary mt-2">View All Posts</a>
</section>

<!-- GitHub Contributions & Activity Section (Calendar Only) -->
<section id="github-stats" style="text-align:center; padding: 20px;">
  <h2>üìä My GitHub Stats</h2>

  <!-- GitHub Stats Card -->
  <img id="gh-stats" src="https://github-readme-stats.vercel.app/api?username=Rush1618&show_icons=true&theme=radical" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="GitHub Stats" />

  <!-- GitHub Streak -->
  <img id="gh-streak" src="https://github-readme-streak-stats.herokuapp.com/?user=Rush1618&theme=tokyonight" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="GitHub Streak" />

  <!-- GitHub Activity Graph -->
  <img id="gh-activity" src="https://github-readme-activity-graph.vercel.app/graph?username=Rush1618&theme=github-compact" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="GitHub Contribution Graph" />

  <!-- GitHub Top Languages -->
  <img id="gh-langs" src="https://github-readme-stats.vercel.app/api/top-langs/?username=Rush1618&layout=compact&theme=radical" 
       style="max-width: 100%; height: auto; margin: 10px 0;" 
       alt="Top Languages" />

  <!-- GitHub Contributions Calendar -->
  <img id="gh-calendar" src="https://ghchart.rshah.org/36d1c4/Rush1618"
       style="max-width: 100%; height: auto; margin: 10px 0;"
       alt="GitHub Contributions Calendar" />
</section>

<section id="contact" class="main-card fade-in">
    <h2 class="mb-4 fw-bold">Contact</h2>
    <ul class="list-unstyled fs-5">
        <li><strong>Email:</strong> <a href="mailto:{{ data.CONTACT.email }}">{{ data.CONTACT.email }}</a></li>
        <li><strong>Phone:</strong> <a href="tel:{{ data.CONTACT.phone }}">{{ data.CONTACT.phone }}</a></li>
        <li><strong>LinkedIn:</strong> <a href="{{ data.CONTACT.linkedin }}" target="_blank">{{ data.CONTACT.linkedin }}</a></li>
        <li><strong>Instagram:</strong> <a href="{{ data.CONTACT.instagram }}" target="_blank">{{ data.CONTACT.instagram }}</a></li>
    </ul>
    <form action="https://formsubmit.co/portfoliorushabh@gmail.com" method="POST" class="mt-4" id="contactForm">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="https://portfolio-rushabh.onrender.com/#contact">
      <div class="mb-3">
        <input type="text" name="name" class="form-control" placeholder="Your Name" required pattern="^[A-Za-z\s]{2,50}$" title="Name should only contain letters and spaces (2-50 characters)">
      </div>
      <div class="mb-3">
        <input type="email" name="email" class="form-control" placeholder="Your Email" required>
      </div>
      <div class="mb-3">
        <textarea name="message" class="form-control" rows="4" placeholder="Your Message" required minlength="10"></textarea>
      </div>
      <button type="submit" class="btn btn-outline-primary">Send Message</button>
    </form>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="mt-3">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
</section>

<!-- Testimonials Section -->
<section id="testimonials" class="main-card fade-in">
  <h2 class="mb-4 fw-bold">Testimonials</h2>
  {% if data.TESTIMONIALS|length == 0 or (data.TESTIMONIALS|length == 1 and not data.TESTIMONIALS[0].author and not data.TESTIMONIALS[0].role) %}
    <div class="alert alert-info text-center">{{ data.TESTIMONIALS[0].text if data.TESTIMONIALS else 'No testimonials yet.' }}</div>
  {% else %}
  <div class="testimonial-slider-container position-relative">
    <button class="testimonial-scroll-btn left" aria-label="Scroll left">&#8592;</button>
    <div class="testimonial-slider d-flex flex-row flex-nowrap overflow-auto" tabindex="0">
      {% for t in data.TESTIMONIALS %}
        {% if t.author or t.role %}
        <div class="card h-100 testimonial-card mx-2 flex-shrink-0 fade-in" style="min-width: 270px; max-width: 320px;">
        <div class="card-body">
          <blockquote class="blockquote mb-0">
              <p>{{ t.text }}</p>
              <footer class="blockquote-footer mt-2">{{ t.author }}{% if t.role %}, <cite title="Role">{{ t.role }}</cite>{% endif %}</footer>
          </blockquote>
        </div>
        </div>
        {% endif %}
      {% endfor %}
    </div>
    <button class="testimonial-scroll-btn right" aria-label="Scroll right">&#8594;</button>
  </div>
  {% endif %}
</section>

<div class="quote-card">I don't just write code , I design solutions that scale, adapt, and empower</div>

<footer class="text-center py-4 mt-5">
    <div class="container">
        <div class="mb-2">
            <a href="{{ data.CONTACT.linkedin }}" class="me-2" target="_blank">LinkedIn</a>
            <a href="{{ data.CONTACT.instagram }}" class="me-2" target="_blank">Instagram</a>
            <a href="mailto:{{ data.CONTACT.email }}" class="me-2">Email</a>
        </div>
        <div>
            &copy; {{ data.NAME }} {{ current_year }}
        </div>
    </div>
</footer>

<!-- Project Details Modal -->
<div class="modal fade" id="projectDetailsModal" tabindex="-1" aria-labelledby="projectDetailsModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="projectDetailsModalLabel"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p id="projectDetailsDescription"></p>
        <p><strong>Tech Stack:</strong> <span id="projectDetailsTech"></span></p>
        <div class="d-flex gap-2 mt-3">
          <a id="projectDetailsGithub" href="#" class="btn btn-outline-dark btn-sm" target="_blank">GitHub</a>
          <a id="projectDetailsDemo" href="#" class="btn btn-outline-primary btn-sm" target="_blank">Demo</a>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
    // Smooth scrolling
    document.querySelectorAll('a.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            if(this.hash) {
                e.preventDefault();
                document.querySelector(this.hash).scrollIntoView({ behavior: 'smooth' });
            }
        });
    });
    // Theme toggle logic
    function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    }
    function getTheme() {
        return localStorage.getItem('theme') || 'dark';
    }
    function updateToggleSwitch(theme) {
        const thumb = document.querySelector('.theme-toggle-switch .toggle-thumb');
        if (theme === 'light') {
            thumb.classList.add('light');
            thumb.classList.remove('dark');
        } else {
            thumb.classList.add('dark');
            thumb.classList.remove('light');
        }
    }
    document.addEventListener('DOMContentLoaded', function() {
        // Always start with fade-in hidden
        const ghSection = document.getElementById('github-stats');
        if (ghSection) {
            ghSection.classList.remove('visible');
            ghSection.classList.remove('fade-out');
            ghSection.offsetWidth;
            setTimeout(() => {
                ghSection.classList.add('visible');
            }, 100);
            ghSection.querySelectorAll('img').forEach(img => {
                img.classList.remove('visible');
                img.classList.remove('fade-out');
                img.offsetWidth;
                setTimeout(() => {
                    img.classList.add('visible');
                }, 100);
            });
        }
        const theme = getTheme();
        setTheme(theme);
        updateToggleSwitch(theme);
        document.getElementById('themeToggleSwitch').onclick = function() {
            const current = getTheme();
            const next = current === 'dark' ? 'light' : 'dark';
            setTheme(next);
            updateToggleSwitch(next);
            // Fade out, then fade in for GitHub stats section and images
            if (ghSection) {
                ghSection.classList.remove('visible');
                ghSection.classList.add('fade-out');
                ghSection.querySelectorAll('img').forEach(img => {
                    img.classList.remove('visible');
                    img.classList.add('fade-out');
                });
                setTimeout(() => {
                    ghSection.classList.remove('fade-out');
                    ghSection.classList.add('visible');
                    ghSection.querySelectorAll('img').forEach(img => {
                        img.classList.remove('fade-out');
                        img.classList.add('visible');
                    });
                }, 400); // match fade-out duration
            }
        };
    });
    // Fade-in animation on scroll
    function fadeInOnScroll() {
        const fadeEls = document.querySelectorAll('.fade-in');
        const trigger = window.innerHeight * 0.92;
        fadeEls.forEach(el => {
            const rect = el.getBoundingClientRect();
            if (rect.top < trigger) {
                el.classList.add('visible');
            }
        });
    }
    window.addEventListener('scroll', fadeInOnScroll);
    window.addEventListener('DOMContentLoaded', fadeInOnScroll);
    // Hide skeleton loader when page is fully loaded
    window.addEventListener('load', function() {
        document.getElementById('skeleton-loader').style.display = 'none';
    });
    // Testimonial slider scroll logic (circular)
    const testimonialSlider = document.querySelector('.testimonial-slider');
    const testimonialLeftBtn = document.querySelector('.testimonial-scroll-btn.left');
    const testimonialRightBtn = document.querySelector('.testimonial-scroll-btn.right');
    if (testimonialSlider && testimonialLeftBtn && testimonialRightBtn) {
      testimonialLeftBtn.onclick = () => {
        if (testimonialSlider.scrollLeft === 0) {
          testimonialSlider.scrollLeft = testimonialSlider.scrollWidth;
        } else {
          testimonialSlider.scrollBy({left: -320, behavior: 'smooth'});
        }
      };
      testimonialRightBtn.onclick = () => {
        if (testimonialSlider.scrollLeft + testimonialSlider.offsetWidth >= testimonialSlider.scrollWidth - 10) {
          testimonialSlider.scrollLeft = 0;
        } else {
          testimonialSlider.scrollBy({left: 320, behavior: 'smooth'});
        }
      };
    }
    function updateGitHubStatsTheme(theme) {
      const themes = {
        light: {
          stats: "default",
          streak: "default",
          activity: "github-compact",
          langs: "default",
          calendar: "007ec6"
        },
        dark: {
          stats: "radical",
          streak: "tokyonight",
          activity: "tokyo-night",
          langs: "radical",
          calendar: "36d1c4"
        }
      };
      const t = themes[theme] || themes.dark;
      document.getElementById("gh-stats").src =
        `https://github-readme-stats.vercel.app/api?username=Rush1618&show_icons=true&theme=${t.stats}`;
      document.getElementById("gh-streak").src =
        `https://github-readme-streak-stats.herokuapp.com/?user=Rush1618&theme=${t.streak}`;
      document.getElementById("gh-activity").src =
        `https://github-readme-activity-graph.vercel.app/graph?username=Rush1618&theme=${t.activity}`;
      document.getElementById("gh-langs").src =
        `https://github-readme-stats.vercel.app/api/top-langs/?username=Rush1618&layout=compact&theme=${t.langs}`;
      document.getElementById("gh-calendar").src =
        `https://ghchart.rshah.org/${t.calendar}/Rush1618`;
    }
    document.addEventListener("DOMContentLoaded", function() {
      updateGitHubStatsTheme(getTheme());
      document.getElementById('themeToggleSwitch').addEventListener('click', function() {
        setTimeout(() => updateGitHubStatsTheme(getTheme()), 100);
      });
    });
</script>

<!-- Google Analytics (replace G-XXXXXXXXXX with your own ID) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XXXXXXXXXX');
</script>
</body>
</html> 